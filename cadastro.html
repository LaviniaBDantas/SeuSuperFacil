<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Cadastro</title>
    <link rel="icon" href="../imagens/user.png" type="image/png">
    <link rel="stylesheet" href="styleCadastro.css" type="text/css">
    <script src="script.js"></script>
</head>

<body>
    <div class="caixa">
        <h1 style="text-align:center; color: black">Seu cadastro</h1>
        <label for="nome"><b>Nome completo:</b> </label>
        <input type="text" id="nome" /><br><br>

        <label for="nome"><b>CPF:</b> </label>
        <input type="text" id="cpf" /><br><br>

        <label for="login"><b>Email:</b> </label>
        <input type="text" id="login" /><br><br>

        <label for="tel"><b>Telefone:</b> </label>
        <input type="number" id="tel" /><br><br>

        <label for="senha"><b>Senha: </b></label>
        <input type="password" id="senha" /><br><br>

        <label for="senha2"><b>Confirme sua senha:</b> </label>
        <input type="password" id="senha2" /><br><br>

        <button onclick="cadastrarCliente()">Concluir cadastro</button>
    </div>

    <script>
        function cadastrarCliente() {
            let nome = document.getElementById('nome').value;
            let cpf = document.getElementById('cpf').value;
            let email = document.getElementById('login').value; // Corrigido
            let telefone = document.getElementById('tel').value; // Corrigido
            let senha = document.getElementById('senha').value;
            let senha2 = document.getElementById('senha2').value;

            if (senha !== senha2) {
                alert("As senhas não coincidem.");
                return;
            }

            if (!nome ||  !cpf  || !email || !telefone || !senha || !senha2) {
                alert("Por favor, preencha todos os campos.");
                return;
            }

            const dados = new FormData();
            dados.append('nome', nome);
            dados.append('cpf', cpf);
            dados.append('email', email); // Corrigido
            dados.append('telefone', telefone); // Corrigido
            dados.append('senha', senha);

            fetch('http://localhost/SeuSuperFacil-Back/Controller/cadastroCliente.php', {
                    method: 'POST',
                    body: dados
                })
                .then(response => response.text()) // Use text() para ver a resposta do PHP
                .then(data => {
                    console.log(data); // Mostra a resposta no console para depuração
                    alert(data); // Exibe a resposta
                })
                .catch(error => console.error('Erro:', error));
        }
    </script>

</body>

</html>